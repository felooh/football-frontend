{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport HeaderBar from \"./Header.vue\";\nimport FooterBar from \"./Footer.vue\";\nimport { QuillEditor } from '@vueup/vue-quill';\nimport '@vueup/vue-quill/dist/vue-quill.snow.css';\nexport default {\n  name: \"AddPost\",\n  components: {\n    HeaderBar,\n    FooterBar,\n    QuillEditor\n  },\n  data() {\n    return {\n      post: {\n        category: \"\",\n        title: \"\",\n        content: \"\",\n        file: null,\n        author_name: \"\"\n      }\n    };\n  },\n  methods: {\n    async addPost() {\n      let formData = new FormData();\n      formData.append(\"category\", this.post.category);\n      formData.append(\"title\", this.post.title);\n      formData.append(\"content\", this.post.content);\n      formData.append(\"image\", this.post.file);\n      formData.append(\"author_name\", this.post.author_name);\n      try {\n        let response = await axios.post(\"http://localhost:8000/post/\", formData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        });\n        if (response.status === 201) {\n          console.warn(response.data);\n          alert(\"Post Successful\");\n          this.$router.push({\n            name: \"UserProfile\"\n          });\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    handleFileChange(event) {\n      this.post.file = event.target.files[0];\n    }\n  }\n};\n\n// use formdata","map":{"version":3,"names":["axios","HeaderBar","FooterBar","QuillEditor","name","components","data","post","category","title","content","file","author_name","methods","addPost","formData","FormData","append","response","headers","status","console","warn","alert","$router","push","error","handleFileChange","event","target","files"],"sources":["/home/hp/projects/myblog/frontend/src/components/AddPost.vue"],"sourcesContent":["<template>\n    <HeaderBar />\n    <h2>Football Blog Input Form</h2>\n    <body> \n        <div class=\"row\">\n            <div class=\"col-md-2\"></div>\n            <div class=\"col-md-8\">\n                <div class=\"add_post_container\" style=\"align-items:center;\">\n                    <form  enctype=\"multipart/form-data\" @submit.prevent=\"addPost\" >\n                        <div class=\"mb-3\" style=\"z-index:1;\">\n                          <label class=\"label\" for=\"category\">Category</label>\n                          <select v-model=\"post.category\" class=\"form-select\" aria-label=\"Default select example\">\n                            <option selected>Choose the category for content</option>\n                            <option value=\"leagues\">Leagues</option>\n                            <option value=\"players\">Players</option>\n                            <option value=\"highlights\">Highlights</option>\n                            <option value=\"news\">News</option>\n                            <option value=\"videos\">Videos</option>\n                          </select>\n                          </div>\n                        <div class=\"form-group\">\n                          <label for=\"postTitle\">Post Title</label>\n                          <input v-model=\"post.title\" type=\"text\" class=\"form-control\" id=\"postTitle\" placeholder=\"Enter post title\">\n                        </div>\n                        <br>\n                        <div class=\"form-group\">\n                          <label for=\"content\">Content</label>\n                          <div style=\"height: 400px;\">\n                            <QuillEditor v-model:content=\"post.content\" contentType=\"html\" theme=\"snow\" toolbar=\"full\"/>\n                          </div>\n                        </div>\n                        <br><br><br><br>\n                        <div class=\"form-group\">\n                          <label for=\"image\">Image:</label>\n                          <input type=\"file\" id=\"image\" @change.prevent=\"handleFileChange\" />\n                          \n                        </div>\n                        <br>\n                        <!-- <div class=\"form-group\">\n                          <label for=\"basic-url\" class=\"form-label\">Video</label>\n                          <div class=\"input-group mb-3\">\n                            <span class=\"input-group-text\" id=\"basic-addon3\">https://example.com/users/</span>\n                            <input\n                              v-model=\"post.video\"\n                              type=\"text\"\n                              class=\"form-control\"\n                              id=\"basic-url1\"\n                              aria-describedby=\"basic-addon3\"\n                            />\n                          </div>\n                        </div> -->\n                        <br>\n                        <div class=\"form-group\">\n                          <label for=\"authorName\">Author Name</label>\n                          <input v-model=\"post.author_name\" type=\"text\" class=\"form-control\" id=\"authorName\" placeholder=\"Enter author name\">\n                        </div>\n                        <br>\n                        <button  type=\"submit\" class=\"btn btn-primary\">Submit</button>\n                      </form>\n                </div>\n            </div>\n            <div class=\"col-md-2\"></div>\n          </div>\n    </body>\n    <FooterBar />\n</template>\n\n<script>\nimport axios from \"axios\";\nimport HeaderBar from \"./Header.vue\";\nimport FooterBar from \"./Footer.vue\";\nimport { QuillEditor } from '@vueup/vue-quill';\nimport '@vueup/vue-quill/dist/vue-quill.snow.css';\n\n\nexport default{\n    name:\"AddPost\",\n    components:{\n    HeaderBar,\n    FooterBar,\n    QuillEditor\n    \n},\ndata(){\n  return {\n    post:{\n      category:\"\",\n      title:\"\",\n      content:\"\",\n      file: null,\n      author_name:\"\"\n    }\n    \n  }\n},\nmethods:{\n     async addPost() {\n        let formData = new FormData();\n\n        formData.append(\"category\", this.post.category);\n        formData.append(\"title\", this.post.title);\n        formData.append(\"content\", this.post.content);\n        formData.append(\"image\", this.post.file);\n        formData.append(\"author_name\", this.post.author_name);\n\n        try {\n          let response = await axios.post(\"http://localhost:8000/post/\", formData, {\n            headers: {\n              \"Content-Type\": \"multipart/form-data\"\n            }\n          });\n\n          if (response.status === 201) {\n            console.warn(response.data);\n            alert(\"Post Successful\");\n            this.$router.push({ name: \"UserProfile\" });\n          }\n        } catch (error) {\n          console.error(error);\n        }\n      },\n\n        \n     handleFileChange(event) {\n      this.post.file = event.target.files[0];\n    },\n        \n    }\n}   \n\n\n// use formdata \n</script>\n\n<style>\n  @import \"../assets/style.css\"\n</style>"],"mappings":";AAoEA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,SAAQ,MAAO,cAAc;AACpC,OAAOC,SAAQ,MAAO,cAAc;AACpC,SAASC,WAAU,QAAS,kBAAkB;AAC9C,OAAO,0CAA0C;AAGjD,eAAc;EACVC,IAAI,EAAC,SAAS;EACdC,UAAU,EAAC;IACXJ,SAAS;IACTC,SAAS;IACTC;EAEJ,CAAC;EACDG,IAAIA,CAAA,EAAE;IACJ,OAAO;MACLC,IAAI,EAAC;QACHC,QAAQ,EAAC,EAAE;QACXC,KAAK,EAAC,EAAE;QACRC,OAAO,EAAC,EAAE;QACVC,IAAI,EAAE,IAAI;QACVC,WAAW,EAAC;MACd;IAEF;EACF,CAAC;EACDC,OAAO,EAAC;IACH,MAAMC,OAAOA,CAAA,EAAG;MACb,IAAIC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAE7BD,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAE,IAAI,CAACV,IAAI,CAACC,QAAQ,CAAC;MAC/CO,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACV,IAAI,CAACE,KAAK,CAAC;MACzCM,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAE,IAAI,CAACV,IAAI,CAACG,OAAO,CAAC;MAC7CK,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACV,IAAI,CAACI,IAAI,CAAC;MACxCI,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAACV,IAAI,CAACK,WAAW,CAAC;MAErD,IAAI;QACF,IAAIM,QAAO,GAAI,MAAMlB,KAAK,CAACO,IAAI,CAAC,6BAA6B,EAAEQ,QAAQ,EAAE;UACvEI,OAAO,EAAE;YACP,cAAc,EAAE;UAClB;QACF,CAAC,CAAC;QAEF,IAAID,QAAQ,CAACE,MAAK,KAAM,GAAG,EAAE;UAC3BC,OAAO,CAACC,IAAI,CAACJ,QAAQ,CAACZ,IAAI,CAAC;UAC3BiB,KAAK,CAAC,iBAAiB,CAAC;UACxB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;YAAErB,IAAI,EAAE;UAAc,CAAC,CAAC;QAC5C;MACF,EAAE,OAAOsB,KAAK,EAAE;QACdL,OAAO,CAACK,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IAGFC,gBAAgBA,CAACC,KAAK,EAAE;MACvB,IAAI,CAACrB,IAAI,CAACI,IAAG,GAAIiB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACxC;EAEA;AACJ;;AAGA"},"metadata":{},"sourceType":"module","externalDependencies":[]}