{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport HeaderBar from \"./Header.vue\";\nimport FooterBar from \"./Footer.vue\";\nexport default {\n  name: 'UpdateProfile',\n  components: {\n    HeaderBar,\n    FooterBar\n  },\n  data() {\n    return {\n      first_name: \"\",\n      last_name: \"\",\n      name: \"\",\n      mobile: \"\",\n      gender: \"\",\n      location: \"\",\n      email: \"\",\n      occupation: \"\",\n      country: \"\"\n    };\n  },\n  mounted() {\n    const token = localStorage.getItem('access');\n    if (!token) {\n      this.$router.push({\n        name: \"LogIn\"\n      });\n    }\n    this.fetchUserData();\n  },\n  methods: {\n    async fetchUserData() {\n      const authenticationToken = localStorage.getItem('access');\n      console.log(authenticationToken);\n      try {\n        const response = await axios.get('http://localhost:8000/user/user-detail/', {\n          headers: {\n            Authorization: `Bearer ${authenticationToken}`\n          }\n        });\n        const decode = jtw.decode(authenticationToken);\n        console.log(decode);\n        const userData = response.data;\n\n        // Assign fetched data to corresponding data properties\n        this.first_name = userData.first_name;\n        this.last_name = userData.last_name;\n        this.name = userData.name;\n        this.mobile = userData.mobile;\n        this.gender = userData.gender;\n        this.location = userData.location;\n        this.email = userData.email;\n        this.occupation = userData.occupation;\n        this.country = userData.country;\n        console.log(userData);\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","HeaderBar","FooterBar","name","components","data","first_name","last_name","mobile","gender","location","email","occupation","country","mounted","token","localStorage","getItem","$router","push","fetchUserData","methods","authenticationToken","console","log","response","get","headers","Authorization","decode","jtw","userData","error"],"sources":["/home/hp/projects/myblog/frontend/src/components/ProfileUpdate.vue"],"sourcesContent":["<template>\n    <HeaderBar />\n    <div class=\"container rounded bg-white mt-5 mb-5\">\n        <div class=\"row\">\n            <div class=\"col-md-3 border-right\">\n                <div class=\"d-flex flex-column align-items-center text-center p-3 py-5\">\n                    <img class=\"rounded-circle mt-5\" width=\"150px\" src=\"https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg\">\n                    <span class=\"font-weight-bold\">Edogaru</span><span class=\"text-black-50\">edogaru@mail.com.my</span>\n                    <span> </span>\n                </div>\n            </div>\n            <div class=\"col-md-9 border-right\">\n                <div class=\"p-3 py-5\">\n                    <div class=\"d-flex justify-content-between align-items-center mb-3\">\n                        <h4 class=\"text-right\">Profile Settings</h4>\n                    </div>\n                    <div class=\"row mt-2\">\n                        <div class=\"col-md-6\"><label class=\"labels\">First Name</label>\n                            <input v-model=\"first_name\" type=\"text\" class=\"form-control\" placeholder=\"first name\" >\n                        </div>\n                        <div class=\"col-md-6\"><label class=\"labels\">Last Name</label>\n                            <input v-model=\"last_name\" type=\"text\" class=\"form-control\" placeholder=\"surname\">\n                        </div>\n                    </div>\n                    <div class=\"row mt-3\">\n                        <div class=\"col-md-12\"><label class=\"labels\">Username</label>\n                            <input v-model=\"name\" type=\"text\" class=\"form-control\" placeholder=\"\" >\n                        </div>\n\n                        <div class=\"col-md-12\"><label class=\"labels\">Mobile Number</label>\n                            <input v-model=\"mobile\" type=\"text\" class=\"form-control\" placeholder=\"enter phone number\" >\n                        </div>\n                        <div class=\"col-md-12\">\n                            <label class=\"labels\">Gender</label>\n                            <select v-model=\"gender\" class=\"form-control\">\n                                <option value=\"\" selected disabled>Please select</option>\n                                <option value=\"Male\">Male</option>\n                                <option value=\"Female\">Female</option>\n                                <option value=\"Prefer not to say\">Prefer not to say</option>\n                            </select>\n                        </div>\n                        <div class=\"col-md-12\">\n                            <label class=\"labels\">Location</label>\n                            <input v-model=\"location\" type=\"text\" class=\"form-control\" placeholder=\"enter address line 2\" >\n                        </div>\n                        <div class=\"col-md-12\">\n                            <label class=\"labels\">Email</label>\n                            <input v-model=\"email\" type=\"text\" class=\"form-control\" placeholder=\"enter email id\" >\n                        </div>\n                        <div class=\"col-md-12\">\n                            <label class=\"labels\">Occupation</label>\n                            <input v-model=\"occupation\" type=\"text\" class=\"form-control\" placeholder=\"Ocuupation\" >\n                        </div>\n                    </div>\n                    <div class=\"row mt-3\">\n                        <div class=\"col-md-6\">\n                            <label class=\"labels\">Country</label>\n                            <country-select v-model=\"country\" class=\"form-control\"  :country=\"country\" topCountry=\"US\" />\n\n                        </div>\n                    </div>\n                    <div class=\"mt-5 text-center\">\n                        <button class=\"btn btn-primary profile-button\" type=\"button\">Save Profile</button>\n                    </div>\n                </div>\n            </div>\n          \n        </div>\n    </div>\n    <FooterBar />\n</template>\n\n<script>\nimport axios from \"axios\"\nimport HeaderBar from \"./Header.vue\";\nimport FooterBar from \"./Footer.vue\";\n\n\n\nexport default {\n  name: 'UpdateProfile',\n    components:{\n      HeaderBar,\n      FooterBar,\n      \n  },\n  data() {\n    return{\n       first_name:\"\",\n       last_name:\"\",\n       name:\"\",\n       mobile:\"\",\n       gender:\"\",\n       location:\"\",\n       email:\"\",\n       occupation:\"\",\n       country:\"\"\n\n    }\n  },\n  mounted(){\n\n    const token = localStorage.getItem('access');\n\n    if (!token) {\n    this.$router.push({name:\"LogIn\"})\n    }\n    \n    this.fetchUserData();\n  },\n  methods:{\n\n    async fetchUserData(){\n\n        const authenticationToken = localStorage.getItem('access');\n        console.log(authenticationToken)\n\n    try {\n      const response = await axios.get('http://localhost:8000/user/user-detail/', {\n        headers: {\n          Authorization: `Bearer ${authenticationToken}`,\n        },\n      })\n\n      const decode = jtw.decode(authenticationToken)\n      console.log(decode)\n\n      const userData = response.data;\n\n        // Assign fetched data to corresponding data properties\n        this.first_name = userData.first_name;\n        this.last_name = userData.last_name;\n        this.name = userData.name;\n        this.mobile = userData.mobile;\n        this.gender = userData.gender;\n        this.location = userData.location;\n        this.email = userData.email;\n        this.occupation = userData.occupation;\n        this.country = userData.country;\n\n        console.log(userData);\n\n    } \n\n    catch (error) {\n      console.error('Error fetching user data:', error);\n    }\n  }\n    }\n  }\n  \n</script>\n\n<style>\n  @import \"../assets/style.css\"\n</style>"],"mappings":";AAyEA,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,SAAQ,MAAO,cAAc;AACpC,OAAOC,SAAQ,MAAO,cAAc;AAIpC,eAAe;EACbC,IAAI,EAAE,eAAe;EACnBC,UAAU,EAAC;IACTH,SAAS;IACTC;EAEJ,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAM;MACHC,UAAU,EAAC,EAAE;MACbC,SAAS,EAAC,EAAE;MACZJ,IAAI,EAAC,EAAE;MACPK,MAAM,EAAC,EAAE;MACTC,MAAM,EAAC,EAAE;MACTC,QAAQ,EAAC,EAAE;MACXC,KAAK,EAAC,EAAE;MACRC,UAAU,EAAC,EAAE;MACbC,OAAO,EAAC;IAEX;EACF,CAAC;EACDC,OAAOA,CAAA,EAAE;IAEP,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAE5C,IAAI,CAACF,KAAK,EAAE;MACZ,IAAI,CAACG,OAAO,CAACC,IAAI,CAAC;QAAChB,IAAI,EAAC;MAAO,CAAC;IAChC;IAEA,IAAI,CAACiB,aAAa,CAAC,CAAC;EACtB,CAAC;EACDC,OAAO,EAAC;IAEN,MAAMD,aAAaA,CAAA,EAAE;MAEjB,MAAME,mBAAkB,GAAIN,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;MAC1DM,OAAO,CAACC,GAAG,CAACF,mBAAmB;MAEnC,IAAI;QACF,MAAMG,QAAO,GAAI,MAAMzB,KAAK,CAAC0B,GAAG,CAAC,yCAAyC,EAAE;UAC1EC,OAAO,EAAE;YACPC,aAAa,EAAG,UAASN,mBAAoB;UAC/C;QACF,CAAC;QAED,MAAMO,MAAK,GAAIC,GAAG,CAACD,MAAM,CAACP,mBAAmB;QAC7CC,OAAO,CAACC,GAAG,CAACK,MAAM;QAElB,MAAME,QAAO,GAAIN,QAAQ,CAACpB,IAAI;;QAE5B;QACA,IAAI,CAACC,UAAS,GAAIyB,QAAQ,CAACzB,UAAU;QACrC,IAAI,CAACC,SAAQ,GAAIwB,QAAQ,CAACxB,SAAS;QACnC,IAAI,CAACJ,IAAG,GAAI4B,QAAQ,CAAC5B,IAAI;QACzB,IAAI,CAACK,MAAK,GAAIuB,QAAQ,CAACvB,MAAM;QAC7B,IAAI,CAACC,MAAK,GAAIsB,QAAQ,CAACtB,MAAM;QAC7B,IAAI,CAACC,QAAO,GAAIqB,QAAQ,CAACrB,QAAQ;QACjC,IAAI,CAACC,KAAI,GAAIoB,QAAQ,CAACpB,KAAK;QAC3B,IAAI,CAACC,UAAS,GAAImB,QAAQ,CAACnB,UAAU;QACrC,IAAI,CAACC,OAAM,GAAIkB,QAAQ,CAAClB,OAAO;QAE/BU,OAAO,CAACC,GAAG,CAACO,QAAQ,CAAC;MAEzB,EAEA,OAAOC,KAAK,EAAE;QACZT,OAAO,CAACS,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACF;EACE;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}